<!doctype html>
<html lang="en">
<head>
<link rel = "icon" href = "writer-icon.png" type = "image/x-icon">
<title>writer. Only the words matter...</title>
<h2>writer <img src="writer-icon.png" height="50px"></h2>
</head>
<style>
[contenteditable] {
  outline: 0px solid transparent;
}
Body{
Background-color: #dbffdb;
}
Div{
The text-align: justify
line-height: 1.6;
text-indent: 0px;
Padding: 20px 50px;
Font-family: Georgia;
Margin: auto;
Width: 700px;
}
P{
The text-align: justify
line-height: 1.6;
text-indent: 0px;
Padding: 50px;
Background-color: #ffffff;
Border: 1px solid #8fc28f;
Font-family: Georgia;
Margin: auto;
Width: 700px;
min-height: 1200px
}
.button {
    Font-family: Georgia;
    border-radius: 10px;
    border: 1px solid #00ad00;
    color: black;
    padding: 10px 10px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    transition-duration: 0.5s;
    cursor: pointer;
}
.button1 {
     background-color: #00ad00;
  }
.button1:hover {
    border-radius: 10px;
    background-color: white;
    color: black;
    border: 1px solid #00ad00;
  }

</style>
<script>
"use strict";
(() => {
const modified_inputs = new Set;
const defaultValue = "defaultValue";
// store default values
addEventListener("beforeinput", (evt) => {
    const target = evt.target;
    if (!(defaultValue in target || defaultValue in target.dataset)) {
        target.dataset[defaultValue] = ("" + (target.value || target.textContent)).trim();
    }
});
// detect input modifications
addEventListener("input", (evt) => {
    const target = evt.target;
    let original;
    if (defaultValue in target) {
        original = target[defaultValue];
    } else {
        original = target.dataset[defaultValue];
    }
    if (original !== ("" + (target.value || target.textContent)).trim()) {
        if (!modified_inputs.has(target)) {
            modified_inputs.add(target);
        }
    } else if (modified_inputs.has(target)) {
        modified_inputs.delete(target);
    }
});
// clear modified inputs upon form submission
addEventListener("submit", (evt) => {
    modified_inputs.clear();
    // to prevent the warning from happening, it is advisable
    // that you clear your form controls back to their default
    // state with evt.target.reset() or form.reset() after submission
});
// warn before closing if any inputs are modified
addEventListener("beforeunload", (evt) => {
    if (modified_inputs.size) {
        const unsaved_changes_warning = "Changes you made may not be saved.";
        evt.returnValue = unsaved_changes_warning;
        return unsaved_changes_warning;
    }
});
})();
function download(){
    var author = document.getElementById("author").innerHTML;
    var head = document.getElementById("head").innerHTML;
    var text = document.getElementById("writer-page").innerHTML;
    text = "<!Doctype HTML>".concat("<html><style>small{padding: 10px; width: 700px; margin: auto; font-family: Georgia; line-height: 1.6;}div{padding: 10px; width: 700px; margin: auto; font-family: Georgia; line-height: 1.6;}h1{padding: 10px; width: 700px; margin: auto; font-family: Georgia; line-height: 1.6;}p{padding: 10px; width: 700px; margin: auto; font-family: Georgia; line-height: 1.6;}</style><body><h1>",head,"</h1><p>",text,"<br><br><div><small>",author,"</small></div></p></body></html>");
    text = text.replace(/\n/g, "<br>");
    var blob = new Blob([text], { type: "text/plain"});
    var anchor = document.createElement("a");
    head = head.replace(/ /g,"_")
    anchor.download = head.concat(".html");
    anchor.href = window.URL.createObjectURL(blob);
    anchor.target ="_blank";
    anchor.style.display = "none";
    document.body.appendChild(anchor);
    anchor.click();
    document.body.removeChild(anchor);
 }
</script>
<body>
<div>
<table>
<tr>
<td width="500px"><h2 contenteditable="true" data-title="Title" id="head">The Road Not Taken</h2></td>
<td><button class="button button1" onclick="document.execCommand('bold',false,null);" title="Bold"><b>B</b></button></td>
<td><button class="button button1" onclick="document.execCommand('italic',false,null);" title="Italic"><I>I</I></button></td>
<td><button class="button button1" onclick="document.execCommand('underline',false,null);" title="Underline"><u>U</u></button></td>
<td><button class="button button1" onclick="document.execCommand('strikethrough',false,null);" title="Strikethrough"><s>S</s></button></td>
<td><button class="button button1" height="15" onclick="document.execCommand('superscript',false,null);" title="Superscript"><img src="superscript_black_24dp.svg" height="15"></button></td>
<td><button class="button button1" onclick="document.execCommand('subscript',false,null);" title="Subscript"><img src="subscript_black_24dp.svg" height="15"></button></td>
</tr>
<tr>
<td contenteditable="true" width="200px" id="author" title="Author">Robert Frost</td>
<td><button class="button button1" onclick="document.execCommand('copy',false,null);" title="Copy selected text"><img src="content_copy_black_24dp.svg" height="15"></button></td>
<td><button class="button button1" onclick="document.execCommand('cut',false,null);" title="Cut selected text"><img src="content_cut_black_24dp.svg" height="15"></button></td>
<td><button class="button button1" onclick="document.execCommand('JustifyRight',false,null);" title="Make left to right"><img src="arrow_forward_black_24dp.svg" height="15"></button></td>
<td><button class="button button1" onclick="document.execCommand('JustifyLeft',false,null);" title="Make right to left"><img src="arrow_back_black_24dp.svg" height="15"></button></td>
<td><button class="button button1" onclick="download()" title="Download HTML"><img src="file_download_black_24dp(1).svg" height="15"></button><td>
</tr>
</table>
</div>
<p contenteditable="true" id="writer-page">
Two roads diverged in a yellow wood,
And sorry I could not travel both
And be one traveler, long I stood
And looked down one as far as I could
To where it bent in the undergrowth;

</p>
<br>
</body>
</html>
